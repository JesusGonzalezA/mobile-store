(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[906],{3548:(e,t,n)=>{var i;!function(e){!function(t){var i="object"==typeof globalThis?globalThis:"object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:function(){try{return Function("return this;")()}catch(e){}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch(e){}}(),r=o(e);function o(e,t){return function(n,i){Object.defineProperty(e,n,{configurable:!0,writable:!0,value:i}),t&&t(n,i)}}void 0!==i.Reflect&&(r=o(i.Reflect,r)),t(r,i),void 0===i.Reflect&&(i.Reflect=e)}(function(e,t){var n,i=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",s=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,c=({__proto__:[]})instanceof Array,u=!a&&!c,d={create:a?function(){return T(Object.create(null))}:c?function(){return T({__proto__:null})}:function(){return T({})},has:u?function(e,t){return i.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return i.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),h="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[s]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();function i(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(i.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),i.prototype.has=function(e){return this._find(e,!1)>=0},i.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},i.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},i.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var i=this._keys.length,r=n+1;r<i;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,k(t,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},i.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},i.prototype.keys=function(){return new n(this._keys,this._values,r)},i.prototype.values=function(){return new n(this._keys,this._values,o)},i.prototype.entries=function(){return new n(this._keys,this._values,a)},i.prototype["@@iterator"]=function(){return this.entries()},i.prototype[s]=function(){return this.entries()},i.prototype._find=function(e,t){if(!k(this._cacheKey,e)){this._cacheIndex=-1;for(var n=0;n<this._keys.length;n++)if(k(this._keys[n],e)){this._cacheIndex=n;break}}return this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},i;function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}(),f="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[s]=function(){return this.keys()},e}(),v="function"==typeof WeakMap?WeakMap:function(){var e=d.create(),t=r();function n(){this._key=r()}return n.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&d.has(t,this._key)},n.prototype.get=function(e){var t=o(e,!1);return void 0!==t?d.get(t,this._key):void 0},n.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},n.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},n.prototype.clear=function(){this._key=r()},n;function r(){var t;do t="@@WeakMap@@"+function(){var e=function(e){if("function"==typeof Uint8Array){var t=new Uint8Array(16);return"undefined"!=typeof crypto?crypto.getRandomValues(t):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(t):s(t,16),t}return s(Array(e),e)}(16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var i=e[n];(4===n||6===n||8===n)&&(t+="-"),i<16&&(t+="0"),t+=i.toString(16).toLowerCase()}return t}();while(d.has(e,t));return e[t]=!0,t}function o(e,n){if(!i.call(e,t)){if(!n)return;Object.defineProperty(e,t,{value:d.create()})}return e[t]}function s(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}}(),p=r?Symbol.for("@reflect-metadata:registry"):void 0,g=(!A(p)&&j(t.Reflect)&&Object.isExtensible(t.Reflect)&&(n=t.Reflect[p]),A(n)&&(n=function(){A(p)||void 0===t.Reflect||p in t.Reflect||"function"!=typeof t.Reflect.defineMetadata||(n=(e=t.Reflect).defineMetadata,i=e.hasOwnMetadata,r=e.getOwnMetadata,o=e.getOwnMetadataKeys,s=e.deleteMetadata,a=new v,c={isProviderFor:function(e,t){var n=a.get(e);return!!(!A(n)&&n.has(t))||!!o(e,t).length&&(A(n)&&(n=new f,a.set(e,n)),n.add(t),!0)},OrdinaryDefineOwnMetadata:n,OrdinaryHasOwnMetadata:i,OrdinaryGetOwnMetadata:r,OrdinaryOwnMetadataKeys:o,OrdinaryDeleteMetadata:s});var e,n,i,r,o,s,a,c,u,d,l,g=new v,y={registerProvider:function(e){if(!Object.isExtensible(y))throw Error("Cannot add provider to a frozen registry.");switch(!0){case c===e:break;case A(u):u=e;break;case u===e:break;case A(d):d=e;break;case d===e:break;default:void 0===l&&(l=new f),l.add(e)}},getProvider:m,setProvider:function(e,t,n){if(!function(e){if(A(e))throw TypeError();return u===e||d===e||!A(l)&&l.has(e)}(n))throw Error("Metadata provider not registered.");var i=m(e,t);if(i!==n){if(!A(i))return!1;var r=g.get(e);A(r)&&(r=new h,g.set(e,r)),r.set(t,n)}return!0}};return y;function m(e,t){var n,i=g.get(e);return A(i)||(n=i.get(t)),A(n)&&(n=function(e,t){if(!A(u)){if(u.isProviderFor(e,t))return u;if(!A(d)){if(d.isProviderFor(e,t))return u;if(!A(l))for(var n=x(l);;){var i=P(n);if(!i)return;var r=i.value;if(r.isProviderFor(e,t))return $(n),r}}}if(!A(c)&&c.isProviderFor(e,t))return c}(e,t),A(n)||(A(i)&&(i=new h,g.set(e,i)),i.set(t,n))),n}}()),!A(p)&&j(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,p,{enumerable:!1,configurable:!1,writable:!1,value:n}),n),y=function(e){var t=new v,n={isProviderFor:function(e,n){var i=t.get(e);return!A(i)&&i.has(n)},OrdinaryDefineOwnMetadata:function(e,t,n,r){i(n,r,!0).set(e,t)},OrdinaryHasOwnMetadata:function(e,t,n){var r=i(t,n,!1);return!A(r)&&!!r.has(e)},OrdinaryGetOwnMetadata:function(e,t,n){var r=i(t,n,!1);if(!A(r))return r.get(e)},OrdinaryOwnMetadataKeys:function(e,t){var n=[],r=i(e,t,!1);if(A(r))return n;for(var o=x(r.keys()),s=0;;){var a=P(o);if(!a)return n.length=s,n;var c=a.value;try{n[s]=c}catch(e){try{$(o)}finally{throw e}}s++}},OrdinaryDeleteMetadata:function(e,n,r){var o=i(n,r,!1);if(A(o)||!o.delete(e))return!1;if(0===o.size){var s=t.get(n);A(s)||(s.delete(r),0===s.size&&t.delete(s))}return!0}};return g.registerProvider(n),n;function i(i,r,o){var s=t.get(i),a=!1;if(A(s)){if(!o)return;s=new h,t.set(i,s),a=!0}var c=s.get(r);if(A(c)){if(!o)return;if(c=new h,s.set(r,c),!e.setProvider(i,r,n))throw s.delete(r),a&&t.delete(i),Error("Wrong provider for target.")}return c}}(g);function m(e,t,n){var i=D(t,n,!1);return!A(i)&&!!i.OrdinaryHasOwnMetadata(e,t,n)}function w(e,t,n){var i=D(t,n,!1);if(!A(i))return i.OrdinaryGetOwnMetadata(e,t,n)}function b(e,t,n,i){D(n,i,!0).OrdinaryDefineOwnMetadata(e,t,n,i)}function S(e,t){var n=D(e,t,!1);return n?n.OrdinaryOwnMetadataKeys(e,t):[]}function I(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function A(e){return void 0===e}function M(e){return null===e}function j(e){return"object"==typeof e?null!==e:"function"==typeof e}e("decorate",function(e,t,n,i){if(A(n)){if(!C(e)||!O(t))throw TypeError();for(var r=e,o=t,s=r.length-1;s>=0;--s){var a=(0,r[s])(o);if(!A(a)&&!M(a)){if(!O(a))throw TypeError();o=a}}return o}if(!C(e)||!j(t)||!j(i)&&!A(i)&&!M(i))throw TypeError();return M(i)&&(i=void 0),function(e,t,n,i){for(var r=e.length-1;r>=0;--r){var o=(0,e[r])(t,n,i);if(!A(o)&&!M(o)){if(!j(o))throw TypeError();i=o}}return i}(e,t,n=_(n),i)}),e("metadata",function(e,t){return function(n,i){if(!j(n)||!A(i)&&!function(e){switch(I(e)){case 3:case 4:return!0;default:return!1}}(i))throw TypeError();b(e,t,n,i)}}),e("defineMetadata",function(e,t,n,i){if(!j(n))throw TypeError();return A(i)||(i=_(i)),b(e,t,n,i)}),e("hasMetadata",function(e,t,n){if(!j(t))throw TypeError();return A(n)||(n=_(n)),function e(t,n,i){if(m(t,n,i))return!0;var r=E(n);return!M(r)&&e(t,r,i)}(e,t,n)}),e("hasOwnMetadata",function(e,t,n){if(!j(t))throw TypeError();return A(n)||(n=_(n)),m(e,t,n)}),e("getMetadata",function(e,t,n){if(!j(t))throw TypeError();return A(n)||(n=_(n)),function e(t,n,i){if(m(t,n,i))return w(t,n,i);var r=E(n);if(!M(r))return e(t,r,i)}(e,t,n)}),e("getOwnMetadata",function(e,t,n){if(!j(t))throw TypeError();return A(n)||(n=_(n)),w(e,t,n)}),e("getMetadataKeys",function(e,t){if(!j(e))throw TypeError();return A(t)||(t=_(t)),function e(t,n){var i=S(t,n),r=E(t);if(null===r)return i;var o=e(r,n);if(o.length<=0)return i;if(i.length<=0)return o;for(var s=new f,a=[],c=0;c<i.length;c++){var u=i[c],d=s.has(u);d||(s.add(u),a.push(u))}for(var l=0;l<o.length;l++){var u=o[l],d=s.has(u);d||(s.add(u),a.push(u))}return a}(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!j(e))throw TypeError();return A(t)||(t=_(t)),S(e,t)}),e("deleteMetadata",function(e,t,n){if(!j(t)||(A(n)||(n=_(n)),!j(t)))throw TypeError();A(n)||(n=_(n));var i=D(t,n,!1);return!A(i)&&i.OrdinaryDeleteMetadata(e,t,n)});function _(e){var t=function(e,t){switch(I(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n="string",i=B(e,o);if(void 0!==i){var r=i.call(e,n);if(j(r))throw TypeError();return r}return function(e,t){if("string"===t){var n=e.toString;if(R(n)){var i=n.call(e);if(!j(i))return i}var r=e.valueOf;if(R(r)){var i=r.call(e);if(!j(i))return i}}else{var r=e.valueOf;if(R(r)){var i=r.call(e);if(!j(i))return i}var o=e.toString;if(R(o)){var i=o.call(e);if(!j(i))return i}}throw TypeError()}(e,n)}(e,0);return"symbol"==typeof t?t:""+t}function C(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function R(e){return"function"==typeof e}function O(e){return"function"==typeof e}function k(e,t){return e===t||e!=e&&t!=t}function B(e,t){var n=e[t];if(null!=n){if(!R(n))throw TypeError();return n}}function x(e){var t=B(e,s);if(!R(t))throw TypeError();var n=t.call(e);if(!j(n))throw TypeError();return n}function P(e){var t=e.next();return!t.done&&t}function $(e){var t=e.return;t&&t.call(e)}function E(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l||t!==l)return t;var n=e.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return t;var r=i.constructor;return"function"!=typeof r||r===e?t:r}function D(e,t,n){var i=g.getProvider(e,t);if(!A(i))return i;if(n){if(g.setProvider(e,t,y))return y;throw Error("Illegal state.")}}function T(e){return e.__=void 0,delete e.__,e}})}(i||(i={}))},3974:(e,t,n)=>{"use strict";n.d(t,{YQ:()=>r});var i=n(2115);function r(e,t,n,r){var o=this,s=(0,i.useRef)(null),a=(0,i.useRef)(0),c=(0,i.useRef)(0),u=(0,i.useRef)(null),d=(0,i.useRef)([]),l=(0,i.useRef)(),h=(0,i.useRef)(),f=(0,i.useRef)(e),v=(0,i.useRef)(!0);f.current=e;var p="undefined"!=typeof window,g=!t&&0!==t&&p;if("function"!=typeof e)throw TypeError("Expected a function");t=+t||0;var y=!!(n=n||{}).leading,m=!("trailing"in n)||!!n.trailing,w="maxWait"in n,b="debounceOnServer"in n&&!!n.debounceOnServer,S=w?Math.max(+n.maxWait||0,t):null;return(0,i.useEffect)(function(){return v.current=!0,function(){v.current=!1}},[]),(0,i.useMemo)(function(){var e=function(e){var t=d.current,n=l.current;return d.current=l.current=null,a.current=e,c.current=c.current||e,h.current=f.current.apply(n,t)},n=function(e,t){g&&cancelAnimationFrame(u.current),u.current=g?requestAnimationFrame(e):setTimeout(e,t)},i=function(e){if(!v.current)return!1;var n=e-s.current;return!s.current||n>=t||n<0||w&&e-a.current>=S},I=function(t){return u.current=null,m&&d.current?e(t):(d.current=l.current=null,h.current)},A=function e(){var r=Date.now();if(y&&c.current===a.current&&M(),i(r))return I(r);if(v.current){var o=t-(r-s.current);n(e,w?Math.min(o,S-(r-a.current)):o)}},M=function(){r&&r({})},j=function(){if(p||b){var r=Date.now(),c=i(r);if(d.current=[].slice.call(arguments),l.current=o,s.current=r,c){if(!u.current&&v.current)return a.current=s.current,n(A,t),y?e(s.current):h.current;if(w)return n(A,t),e(s.current)}return u.current||n(A,t),h.current}};return j.cancel=function(){u.current&&(g?cancelAnimationFrame(u.current):clearTimeout(u.current)),a.current=0,d.current=s.current=l.current=u.current=null},j.isPending=function(){return!!u.current},j.flush=function(){return u.current?I(Date.now()):h.current},j},[y,w,t,S,m,g,p,b,r])}},7652:(e,t,n)=>{"use strict";n.d(t,{c3:()=>o});var i=n(2797);function r(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let o=r(0,i.c3);r(0,i.kc)},9310:(e,t,n)=>{"use strict";var i,r,o,s,a,c,u,d,l,h,f,v,p,g,y,m,w,b,S;function I(e){return("object"==typeof e&&null!==e||"function"==typeof e)&&"function"==typeof e.then}function A(e){switch(typeof e){case"string":case"symbol":return e.toString();case"function":return e.name;default:throw Error(`Unexpected ${typeof e} service id type`)}}n.d(t,{mc:()=>tu,i0:()=>eG,WQ:()=>Z,bx:()=>ee}),n(3548);let M=Symbol.for("@inversifyjs/common/islazyServiceIdentifier");class j{[M];#e;constructor(e){this.#e=e,this[M]=!0}static is(e){return"object"==typeof e&&null!==e&&!0===e[M]}unwrap(){return this.#e()}}function _(e,t,n){return Reflect.getOwnMetadata(t,e,n)}function C(e,t,n,i){Reflect.defineMetadata(t,n,e,i)}function R(e,t,n,i,r){let o=i(_(e,t,r)??n());Reflect.defineMetadata(t,o,e,r)}let O="@inversifyjs/container/bindingId";function k(){let e=_(Object,O)??0;return e===Number.MAX_SAFE_INTEGER?C(Object,O,Number.MIN_SAFE_INTEGER):R(Object,O,()=>e,e=>e+1),e}let B={Request:"Request",Singleton:"Singleton",Transient:"Transient"},x={ConstantValue:"ConstantValue",DynamicValue:"DynamicValue",Factory:"Factory",Instance:"Instance",Provider:"Provider",ResolvedValue:"ResolvedValue",ServiceRedirection:"ServiceRedirection"};function*P(...e){for(let t of e)yield*t}class ${#e;#t;#n;constructor(e){for(let t of(this.#e=new Map,this.#t={},Reflect.ownKeys(e)))this.#t[t]=new Map;this.#n=e}add(e,t){for(let n of(this.#i(e).push(t),Reflect.ownKeys(t)))this.#r(n,t[n]).push(e)}clone(){let e=this.#o(),t=this.#s(),n=Reflect.ownKeys(this.#n),i=this._buildNewInstance(this.#n);for(let r of(this.#a(this.#e,i.#e,e,t),n))this.#c(this.#t[r],i.#t[r],e);return i}get(e,t){return this.#t[e].get(t)}getAllKeys(e){return this.#t[e].keys()}removeByRelation(e,t){let n=this.get(e,t);if(void 0!==n)for(let i of new Set(n)){let n=this.#e.get(i);if(void 0===n)throw Error("Expecting model relation, none found");for(let r of n)r[e]===t&&this.#u(i,r);this.#e.delete(i)}}_buildNewInstance(e){return new $(e)}_cloneModel(e){return e}_cloneRelation(e){return e}#o(){let e=new Map;for(let t of this.#e.keys()){let n=this._cloneModel(t);e.set(t,n)}return e}#s(){let e=new Map;for(let t of this.#e.values())for(let n of t){let t=this._cloneRelation(n);e.set(n,t)}return e}#i(e){let t=this.#e.get(e);return void 0===t&&(t=[],this.#e.set(e,t)),t}#r(e,t){let n=this.#t[e].get(t);return void 0===n&&(n=[],this.#t[e].set(t,n)),n}#d(e,t){let n=t.get(e);if(void 0===n)throw Error("Expecting model to be cloned, none found");return n}#l(e,t){let n=t.get(e);if(void 0===n)throw Error("Expecting relation to be cloned, none found");return n}#c(e,t,n){for(let[i,r]of e){let e=[];for(let t of r)e.push(this.#d(t,n));t.set(i,e)}}#a(e,t,n,i){for(let[r,o]of e){let e=[];for(let t of o)e.push(this.#l(t,i));t.set(this.#d(r,n),e)}}#u(e,t){for(let n of Reflect.ownKeys(t))this.#h(e,n,t[n])}#h(e,t,n){let i=this.#t[t].get(n);if(void 0!==i){let r=i.indexOf(e);-1!==r&&i.splice(r,1),0===i.length&&this.#t[t].delete(n)}}}!function(e){e.moduleId="moduleId",e.serviceId="serviceId"}(i||(i={}));class E{#f;#v;constructor(e,t){this.#f=t??new $({moduleId:{isOptional:!0},serviceId:{isOptional:!1}}),this.#v=e}static build(e){return new E(e)}add(e,t){this.#f.add(e,t)}clone(){return new E(this.#v,this.#f.clone())}get(e){let t=[],n=this.#f.get(i.serviceId,e);void 0!==n&&t.push(n);let r=this.#v?.get(e);if(void 0!==r&&t.push(r),0!==t.length)return P(...t)}removeAllByModuleId(e){this.#f.removeByRelation(i.moduleId,e)}removeAllByServiceId(e){this.#f.removeByRelation(i.serviceId,e)}}function D(e){return e.isRight?{isRight:!0,value:e.value}:e}!function(e){e.id="id",e.moduleId="moduleId",e.serviceId="serviceId"}(r||(r={}));class T extends ${_buildNewInstance(e){return new T(e)}_cloneModel(e){return function(e){switch(e.type){case x.ConstantValue:case x.DynamicValue:return{cache:D(e.cache),id:e.id,isSatisfiedBy:e.isSatisfiedBy,moduleId:e.moduleId,onActivation:e.onActivation,onDeactivation:e.onDeactivation,scope:e.scope,serviceIdentifier:e.serviceIdentifier,type:e.type,value:e.value};case x.Factory:return{cache:D(e.cache),factory:e.factory,id:e.id,isSatisfiedBy:e.isSatisfiedBy,moduleId:e.moduleId,onActivation:e.onActivation,onDeactivation:e.onDeactivation,scope:e.scope,serviceIdentifier:e.serviceIdentifier,type:e.type};case x.Instance:return{cache:D(e.cache),id:e.id,implementationType:e.implementationType,isSatisfiedBy:e.isSatisfiedBy,moduleId:e.moduleId,onActivation:e.onActivation,onDeactivation:e.onDeactivation,scope:e.scope,serviceIdentifier:e.serviceIdentifier,type:e.type};case x.Provider:return{cache:D(e.cache),id:e.id,isSatisfiedBy:e.isSatisfiedBy,moduleId:e.moduleId,onActivation:e.onActivation,onDeactivation:e.onDeactivation,provider:e.provider,scope:e.scope,serviceIdentifier:e.serviceIdentifier,type:e.type};case x.ResolvedValue:return{cache:D(e.cache),factory:e.factory,id:e.id,isSatisfiedBy:e.isSatisfiedBy,metadata:e.metadata,moduleId:e.moduleId,onActivation:e.onActivation,onDeactivation:e.onDeactivation,scope:e.scope,serviceIdentifier:e.serviceIdentifier,type:e.type};case x.ServiceRedirection:return{id:e.id,isSatisfiedBy:e.isSatisfiedBy,moduleId:e.moduleId,serviceIdentifier:e.serviceIdentifier,targetServiceIdentifier:e.targetServiceIdentifier,type:e.type}}}(e)}}class N{#p;#v;constructor(e,t){this.#p=t??new T({id:{isOptional:!1},moduleId:{isOptional:!0},serviceId:{isOptional:!1}}),this.#v=e}static build(e){return new N(e)}clone(){return new N(this.#v,this.#p.clone())}get(e){return this.getNonParentBindings(e)??this.#v?.get(e)}getBoundServices(){let e=new Set(this.#p.getAllKeys(r.serviceId));if(void 0!==this.#v)for(let t of this.#v.getBoundServices())e.add(t);return e}getById(e){return this.#p.get(r.id,e)??this.#v?.getById(e)}getByModuleId(e){return this.#p.get(r.moduleId,e)??this.#v?.getByModuleId(e)}getNonParentBindings(e){return this.#p.get(r.serviceId,e)}getNonParentBoundServices(){return this.#p.getAllKeys(r.serviceId)}removeById(e){this.#p.removeByRelation(r.id,e)}removeAllByModuleId(e){this.#p.removeByRelation(r.moduleId,e)}removeAllByServiceId(e){this.#p.removeByRelation(r.serviceId,e)}set(e){let t={[r.id]:e.id,[r.serviceId]:e.serviceIdentifier};void 0!==e.moduleId&&(t[r.moduleId]=e.moduleId),this.#p.add(e,t)}}!function(e){e.moduleId="moduleId",e.serviceId="serviceId"}(o||(o={}));class F{#g;#v;constructor(e,t){this.#g=t??new $({moduleId:{isOptional:!0},serviceId:{isOptional:!1}}),this.#v=e}static build(e){return new F(e)}add(e,t){this.#g.add(e,t)}clone(){return new F(this.#v,this.#g.clone())}get(e){let t=[],n=this.#g.get(o.serviceId,e);void 0!==n&&t.push(n);let i=this.#v?.get(e);if(void 0!==i&&t.push(i),0!==t.length)return P(...t)}removeAllByModuleId(e){this.#g.removeByRelation(o.moduleId,e)}removeAllByServiceId(e){this.#g.removeByRelation(o.serviceId,e)}}let V="@inversifyjs/core/classMetadataReflectKey";function K(){return{constructorArguments:[],lifecycle:{postConstructMethodName:void 0,preDestroyMethodName:void 0},properties:new Map,scope:void 0}}let U="@inversifyjs/core/pendingClassMetadataCountReflectKey",q=Symbol.for("@inversifyjs/core/InversifyCoreError");class z extends Error{[q];kind;constructor(e,t,n){super(t,n),this[q]=!0,this.kind=e}static is(e){return"object"==typeof e&&null!==e&&!0===e[q]}static isErrorOfKind(e,t){return z.is(e)&&e.kind===t}}function G(e){let t=_(e,V)??K();if(!function(e){let t=_(e,U);return void 0!==t&&0!==t}(e))return function(e,t){let n=[];if(t.length<e.length)throw new z(s.missingInjectionDecorator,`Found unexpected missing metadata on type "${e.name}". "${e.name}" constructor requires at least ${e.length.toString()} arguments, found ${t.length.toString()} instead.
Are you using @inject, @multiInject or @unmanaged decorators in every non optional constructor argument?

If you're using typescript and want to rely on auto injection, set "emitDecoratorMetadata" compiler option to true`);for(let e=0;e<t.length;++e)void 0===t[e]&&n.push(e);if(n.length>0)throw new z(s.missingInjectionDecorator,`Found unexpected missing metadata on type "${e.name}" at constructor indexes "${n.join('", "')}".

Are you using @inject, @multiInject or @unmanaged decorators at those indexes?

If you're using typescript and want to rely on auto injection, set "emitDecoratorMetadata" compiler option to true`)}(e,t.constructorArguments),t;let n=[];for(let i=0;i<t.constructorArguments.length;++i){let r=t.constructorArguments[i];void 0!==r&&r.kind!==a.unknown||n.push(`  - Missing or incomplete metadata for type "${e.name}" at constructor argument with index ${i.toString()}.
Every constructor parameter must be decorated either with @inject, @multiInject or @unmanaged decorator.`)}for(let[i,r]of t.properties)r.kind===a.unknown&&n.push(`  - Missing or incomplete metadata for type "${e.name}" at property "${i.toString()}".
This property must be decorated either with @inject or @multiInject decorator.`);if(0===n.length)throw new z(s.unknown,`Unexpected class metadata for type "${e.name}" with uncompletion traces.
This might be caused by one of the following reasons:

1. A third party library is targeting inversify reflection metadata.
2. A bug is causing the issue. Consider submiting an issue to fix it.`);throw new z(s.missingInjectionDecorator,`Invalid class metadata at type ${e.name}:

${n.join("\n\n")}`)}function H(){return 0}function W(e){return t=>{void 0!==t&&t.kind===a.unknown&&R(e,U,H,e=>e-1)}}function L(e,t){return(...n)=>i=>{if(void 0===i)return e(...n);if(i.kind===c.unmanaged)throw new z(s.injectionDecoratorConflict,"Unexpected injection found. Multiple @inject, @multiInject or @unmanaged decorators found");return t(i,...n)}}function Q(e){if(e.kind!==a.unknown&&!0!==e.isFromTypescriptParamType)throw new z(s.injectionDecoratorConflict,"Unexpected injection found. Multiple @inject, @multiInject or @unmanaged decorators found")}!function(e){e[e.injectionDecoratorConflict=0]="injectionDecoratorConflict",e[e.missingInjectionDecorator=1]="missingInjectionDecorator",e[e.planning=2]="planning",e[e.resolution=3]="resolution",e[e.unknown=4]="unknown"}(s||(s={})),function(e){e[e.unknown=32]="unknown"}(a||(a={})),function(e){e[e.multipleInjection=0]="multipleInjection",e[e.singleInjection=1]="singleInjection",e[e.unmanaged=2]="unmanaged"}(c||(c={}));let X=L(function(e,t){return{kind:e,name:void 0,optional:!1,tags:new Map,value:t}},function(e,t,n){return Q(e),{...e,kind:t,value:n}});function Y(e,t){return n=>{let i=n.properties.get(t);return n.properties.set(t,e(i)),n}}function J(e,t){return n=>{let i=t(n);return t=>(i(t),e(t))}}function Z(e){var t,n;return t=X(c.singleInjection,e),n=W,(e,i,r)=>{try{void 0===r?(function(e,t){let n=J(e,t);return(e,t)=>{R(e.constructor,V,K,Y(n(e),t))}})(t,n)(e,i):"number"==typeof r?(function(e,t){let n=J(e,t);return(e,t,i)=>{var r;if("function"!=typeof e||void 0!==t)throw new z(s.injectionDecoratorConflict,`Found an @inject decorator in a non constructor parameter.
Found @inject decorator at method "${t?.toString()??""}" at class "${e.constructor.name}"`);R(e,V,K,(r=n(e),e=>{let t=e.constructorArguments[i];return e.constructorArguments[i]=r(t),e}))}})(t,n)(e,i,r):(function(e,t){let n=J(e,t);return(e,t,i)=>{if(void 0===i.set)throw new z(s.injectionDecoratorConflict,`Found an @inject decorator in a non setter property method.
Found @inject decorator at method "${t.toString()}" at class "${e.constructor.name}"`);R(e.constructor,V,K,Y(n(e),t))}})(t,n)(e,i,r)}catch(t){var o=e,a=i,c=r,d=t;if(z.isErrorOfKind(d,s.injectionDecoratorConflict)){let e=function(e,t,n){if(void 0===n){if(void 0===t)throw new z(s.unknown,"Unexpected undefined property and index values");return{kind:u.property,property:t,targetClass:e.constructor}}return"number"==typeof n?{index:n,kind:u.parameter,targetClass:e}:{kind:u.method,method:t,targetClass:e}}(o,a,c);throw new z(s.injectionDecoratorConflict,`Unexpected injection error.

Cause:

${d.message}

Details

${function(e){switch(e.kind){case u.method:return`[class: "${e.targetClass.name}", method: "${e.method.toString()}"]`;case u.parameter:return`[class: "${e.targetClass.name}", index: "${e.index.toString()}"]`;case u.property:return`[class: "${e.targetClass.name}", property: "${e.property.toString()}"]`}}(e)}`,{cause:d})}throw d}}}!function(e){e[e.method=0]="method",e[e.parameter=1]="parameter",e[e.property=2]="property"}(u||(u={}));function ee(e){return t=>{var n;let i=function(e){let t=Object.getPrototypeOf(e.prototype);return t?.constructor}(t);if(void 0===i)throw new z(s.injectionDecoratorConflict,`Expected base type for type "${t.name}", none found.`);(n={...e,type:i},e=>{let t=G(n.type);R(e,V,K,e=>{let i;return{constructorArguments:(n.extendConstructorArguments??!0?(i=[...t.constructorArguments],e.constructorArguments.map((e,t)=>{i[t]=e})):i=e.constructorArguments,i),lifecycle:e.lifecycle,properties:n.extendProperties??!0?new Map(P(t.properties,e.properties)):e.properties,scope:e.scope}})})(t)}}function et(){return{kind:c.unmanaged}}L(et,function(e){if(Q(e),void 0!==e.name||e.optional||e.tags.size>0)throw new z(s.injectionDecoratorConflict,"Unexpected injection found. Found @unmanaged injection with additional @named, @optional, @tagged or @targetName injections");return et()}),!function(e){e[e.multipleInjection=0]="multipleInjection",e[e.singleInjection=1]="singleInjection"}(d||(d={}));class en{#y;constructor(e){this.#y=e}get name(){return this.#y.elem.name}get serviceIdentifier(){return this.#y.elem.serviceIdentifier}get tags(){return this.#y.elem.tags}getAncestor(){if(void 0!==this.#y.previous)return new en(this.#y.previous)}}class ei{last;constructor(e){this.last=e}concat(e){return new ei({elem:e,previous:this.last})}[Symbol.iterator](){let e=this.last;return{next:()=>{if(void 0===e)return{done:!0,value:void 0};let t=e.elem;return e=e.previous,{done:!1,value:t}}}}}function er(e,t,n){let i=n?.customServiceIdentifier??t.serviceIdentifier,r=[...e.getBindings(i)??[]].filter(e=>e.isSatisfiedBy(t));if(0===r.length&&void 0!==e.autobindOptions&&"function"==typeof i){let t=function(e,t){let n=G(t).scope??e.scope;return{cache:{isRight:!1,value:void 0},id:k(),implementationType:t,isSatisfiedBy:()=>!0,moduleId:void 0,onActivation:void 0,onDeactivation:void 0,scope:n,serviceIdentifier:t,type:x.Instance}}(e.autobindOptions,i);e.setBinding(t),r.push(t)}return r}function eo(e){return void 0!==e.redirections}function es(e,t,n,i){var r,o;let a,c;eo(n)?(a=n.binding.targetServiceIdentifier,c=n.binding.serviceIdentifier):(a=n.serviceIdentifier,c=n.parent?.binding.serviceIdentifier),Array.isArray(e)?function(e,t,n,i,r){if(0!==e.length){let t=`Ambiguous bindings found for service: "${A(n)}".

Registered bindings:

${e.map(e=>(function(e){switch(e.type){case x.Instance:return`[ type: "${e.type}", serviceIdentifier: "${A(e.serviceIdentifier)}", scope: "${e.scope}", implementationType: "${e.implementationType.name}" ]`;case x.ServiceRedirection:return`[ type: "${e.type}", serviceIdentifier: "${A(e.serviceIdentifier)}", redirection: "${A(e.targetServiceIdentifier)}" ]`;default:return`[ type: "${e.type}", serviceIdentifier: "${A(e.serviceIdentifier)}", scope: "${e.scope}" ]`}})(e.binding)).join("\n")}

Trying to resolve bindings for "${ec(n,i)}".

${eu(r)}`;throw new z(s.planning,t)}t||ea(n,i,r)}(e,t,a,c,i):(r=a,o=c,void 0!==e||t||ea(r,o,i))}function ea(e,t,n){let i=`No bindings found for service: "${A(e)}".

Trying to resolve bindings for "${ec(e,t)}".

${eu(n)}`;throw new z(s.planning,i)}function ec(e,t){return void 0===t?`${A(e)} (Root service)`:A(t)}function eu(e){let t=0===e.tags.size?"":`
- tags:
  - ${[...e.tags.keys()].map(e=>e.toString()).join("\n  - ")}`;return`Binding constraints:
- service identifier: ${A(e.serviceIdentifier)}
- name: ${e.name?.toString()??"-"}${t}`}function ed(e,t,n){if(Array.isArray(e.bindings)&&1===e.bindings.length){let[i]=e.bindings;return void(eo(i)&&function e(t,n,i){if(1===t.redirections.length){let[r]=t.redirections;return void(eo(r)&&e(r,n,i))}es(t.redirections,n,t,i)}(i,t,n))}es(e.bindings,t,e,n)}function el(e,t,n){if(n.kind===c.unmanaged)return;let i=j.is(n.value)?n.value.unwrap():n.value,r=t.concat({name:n.name,serviceIdentifier:i,tags:n.tags}),o=new en(r.last),s=er(e,o),a=[],u={bindings:a,parent:e.node,serviceIdentifier:i};if(a.push(...eh(e,r,s,u)),n.kind===c.singleInjection){ed(u,n.optional,o);let[e]=a;u.bindings=e}return u}function eh(e,t,n,i){let r=eo(i)?i.binding.targetServiceIdentifier:i.serviceIdentifier;e.servicesBranch.push(r);let o=[];for(let r of n)switch(r.type){case x.Instance:o.push(function(e,t,n,i){let r={binding:t,classMetadata:e.getClassMetadata(t.implementationType),constructorParams:[],parent:i,propertyParams:new Map};return ef({autobindOptions:e.autobindOptions,getBindings:e.getBindings,getClassMetadata:e.getClassMetadata,node:r,servicesBranch:e.servicesBranch,setBinding:e.setBinding},n)}(e,r,t,i));break;case x.ResolvedValue:o.push(ef({autobindOptions:e.autobindOptions,getBindings:e.getBindings,getClassMetadata:e.getClassMetadata,node:{binding:r,params:[],parent:i},servicesBranch:e.servicesBranch,setBinding:e.setBinding},t));break;case x.ServiceRedirection:{let n=function(e,t,n,i){let r={binding:n,parent:i,redirections:[]},o=er(e,new en(t.last),{customServiceIdentifier:n.targetServiceIdentifier});return r.redirections.push(...eh(e,t,o,r)),r}(e,t,r,i);o.push(n);break}default:o.push({binding:r,parent:i})}return e.servicesBranch.pop(),o}function ef(e,t){return e.node.binding.type===x.Instance?function(e,t,n){let i=t.classMetadata;for(let[r,o]of i.constructorArguments.entries())t.constructorParams[r]=el(e,n,o);for(let[r,o]of i.properties){let i=el(e,n,o);void 0!==i&&t.propertyParams.set(r,i)}return e.node}(e,e.node,t):function(e,t,n){for(let[i,r]of t.binding.metadata.arguments.entries())t.params[i]=function(e,t,n){let i=j.is(n.value)?n.value.unwrap():n.value,r=t.concat({name:n.name,serviceIdentifier:i,tags:n.tags}),o=new en(r.last),s=er(e,o),a=[],c={bindings:a,parent:e.node,serviceIdentifier:i};if(a.push(...eh(e,r,s,c)),n.kind===d.singleInjection){ed(c,n.optional,o);let[e]=a;c.bindings=e}return c}(e,n,r);return e.node}(e,e.node,t)}class ev{#m;#w;#b;constructor(){this.#m=[],this.#w=8,this.#b=1024}*[Symbol.iterator](){let e=0;for(let t of this.#m){let n=t.deref();void 0===n?++e:yield n}this.#m.length>=this.#w&&this.#S(e)&&this.#I(e)}push(e){let t=new WeakRef(e);if(this.#m.push(t),this.#m.length>=this.#w&&this.#m.length%this.#b==0){let e=0;for(let t of this.#m)void 0===t.deref()&&++e;this.#S(e)&&this.#I(e)}}#I(e){let t=Array(this.#m.length-e),n=0;for(let e of this.#m)e.deref()&&(t[n++]=e);this.#m=t}#S(e){return e>=.5*this.#m.length}}!function(e){e[e.singleMandatory=0]="singleMandatory",e[e.singleOptional=1]="singleOptional",e[e.multipleMandatory=2]="multipleMandatory",e[e.multipleOptional=3]="multipleOptional",e[e.length=4]="length"}(l||(l={}));class ep{#A;#M;#j;#_;#C;constructor(){this.#A=this.#R(),this.#M=this.#R(),this.#j=this.#R(),this.#_=this.#R(),this.#C=new ev}clearCache(){for(let e of this.#O())e.clear();for(let e of this.#C)e.clearCache()}get(e){return void 0===e.name?void 0===e.tag?this.#k(this.#A,e).get(e.serviceIdentifier):this.#k(this.#_,e).get(e.serviceIdentifier)?.get(e.tag.key)?.get(e.tag.value):void 0===e.tag?this.#k(this.#M,e).get(e.serviceIdentifier)?.get(e.name):this.#k(this.#j,e).get(e.serviceIdentifier)?.get(e.name)?.get(e.tag.key)?.get(e.tag.value)}set(e,t){void 0===e.name?void 0===e.tag?this.#k(this.#A,e).set(e.serviceIdentifier,t):this.#B(this.#B(this.#k(this.#_,e),e.serviceIdentifier),e.tag.key).set(e.tag.value,t):void 0===e.tag?this.#B(this.#k(this.#M,e),e.serviceIdentifier).set(e.name,t):this.#B(this.#B(this.#B(this.#k(this.#j,e),e.serviceIdentifier),e.name),e.tag.key).set(e.tag.value,t)}subscribe(e){this.#C.push(e)}#R(){let e=Array(l.length);for(let t=0;t<e.length;++t)e[t]=new Map;return e}#B(e,t){let n=e.get(t);return void 0===n&&(n=new Map,e.set(t,n)),n}#k(e,t){return e[this.#x(t)]}#O(){return[...this.#A,...this.#M,...this.#j,...this.#_]}#x(e){return e.isMultiple?!0===e.optional?l.multipleOptional:l.multipleMandatory:!0===e.optional?l.singleOptional:l.singleMandatory}}function eg(e,t){return I(t)?(e.cache={isRight:!0,value:t},t.then(t=>ey(e,t))):ey(e,t)}function ey(e,t){return e.cache={isRight:!0,value:t},t}async function em(e,t,n){let i=await t,r=n.next();for(;!0!==r.done;)i=await r.value(e.context,i),r=n.next();return i}function ew(e,t,n){let i=n;if(void 0!==t.onActivation){let n=t.onActivation;i=I(i)?i.then(t=>n(e.context,t)):n(e.context,i)}var r=t.serviceIdentifier,o=i;let s=e.getActivations(r);return void 0===s?o:I(o)?em(e,o,s[Symbol.iterator]()):function(e,t,n){let i=t,r=n.next();for(;!0!==r.done;){let t=r.value(e.context,i);if(I(t))return em(e,t,n);i=t,r=n.next()}return i}(e,o,s[Symbol.iterator]())}function eb(e){return(t,n)=>n.cache.isRight?n.cache.value:eg(n,ew(t,n,e(t,n)))}let eS=eb(function(e,t){return t.value});function eI(e,t){return(n,i)=>{let r=e(i);switch(r.scope){case B.Singleton:if(r.cache.isRight)return r.cache.value;return eg(r,ew(n,r,t(n,i)));case B.Request:{if(n.requestScopeCache.has(r.id))return n.requestScopeCache.get(r.id);let e=ew(n,r,t(n,i));return n.requestScopeCache.set(r.id,e),e}case B.Transient:return ew(n,r,t(n,i))}}}let eA=eI(function(e){return e},function(e,t){return t.value(e.context)}),eM=eb(function(e,t){return t.factory(e.context)});function ej(e,t,n){let i=function(e,t,n){if(void 0!==n){if(!(n in e))throw new z(s.resolution,`Expecting a "${n.toString()}" property when resolving "${t.implementationType.name}" class @postConstruct decorated method, none found.`);if("function"!=typeof e[n])throw new z(s.resolution,`Expecting a "${n.toString()}" method when resolving "${t.implementationType.name}" class @postConstruct decorated method, a non function property was found instead.`);{let i;try{i=e[n]()}catch(e){throw new z(s.resolution,`Unexpected error found when calling "${n.toString()}" @postConstruct decorated method on class "${t.implementationType.name}"`,{cause:e})}if(I(i))return async function(e,t,n){try{await n}catch(n){throw new z(s.resolution,`Unexpected error found when calling "${t.toString()}" @postConstruct decorated method on class "${e.implementationType.name}"`,{cause:n})}}(t,n,i)}}}(e,t,n);return I(i)?i.then(()=>e):e}function e_(e){return(t,n,i)=>{let r=new i.binding.implementationType(...t),o=e(n,r,i);return I(o)?o.then(()=>ej(r,i.binding,i.classMetadata.lifecycle.postConstructMethodName)):ej(r,i.binding,i.classMetadata.lifecycle.postConstructMethodName)}}let eC=eb(function(e,t){return t.provider(e.context)}),eR=(f=eE,(e,t,n)=>{let i=[];for(let[r,o]of n.propertyParams){let a=n.classMetadata.properties.get(r);if(void 0===a)throw new z(s.resolution,`Expecting metadata at property "${r.toString()}", none found`);a.kind!==c.unmanaged&&void 0!==o.bindings&&(t[r]=f(e,o),I(t[r])&&i.push((async()=>{t[r]=await t[r]})()))}if(i.length>0)return Promise.all(i).then(()=>{})}),eO=(v=e$,function e(t,n){let i=[];for(let r of n.redirections)eo(r)?i.push(...e(t,r)):i.push(v(t,r));return i}),ek=(p=eE,y=(e,t)=>{let n=[];for(let i of t.constructorParams)void 0===i?n.push(void 0):n.push(p(e,i));return n.some(I)?Promise.all(n):n},g=e_(eR),m=async(e,t,n)=>g(await e,t,n),w=e_(eR),(e,t)=>{let n=y(e,t);return I(n)?m(n,e,t):w(n,e,t)}),eB=(b=eE,S=(e,t)=>{let n=[];for(let i of t.params)n.push(b(e,i));return n.some(I)?Promise.all(n):n},(e,t)=>{let n=S(e,t);return I(n)?n.then(e=>t.binding.factory(...e)):t.binding.factory(...n)}),ex=eI(function(e){return e.binding},ek),eP=eI(function(e){return e.binding},eB);function e$(e,t){switch(t.binding.type){case x.ConstantValue:return eS(e,t.binding);case x.DynamicValue:return eA(e,t.binding);case x.Factory:return eM(e,t.binding);case x.Instance:return ex(e,t);case x.Provider:return eC(e,t.binding);case x.ResolvedValue:return eP(e,t)}}function eE(e,t){if(void 0!==t.bindings)return Array.isArray(t.bindings)?function(e,t){let n=[];for(let i of t)eo(i)?n.push(...eO(e,i)):n.push(e$(e,i));return n.some(I)?Promise.all(n):n}(e,t.bindings):function(e,t){if(eo(t)){let n=eO(e,t);if(1===n.length)return n[0];throw new z(s.resolution,"Unexpected multiple resolved values on single injection")}return e$(e,t)}(e,t.bindings)}function eD(e,t){if(void 0!==e.lifecycle.preDestroyMethodName&&"function"==typeof t[e.lifecycle.preDestroyMethodName])return t[e.lifecycle.preDestroyMethodName]()}function eT(e,t,n){let i=e.getDeactivations(t);if(void 0!==i)return I(n)?eN(n,i[Symbol.iterator]()):function(e,t){let n=t.next();for(;!0!==n.done;){if(I(n.value(e)))return eN(e,t);n=t.next()}}(n,i[Symbol.iterator]())}async function eN(e,t){let n=await e,i=t.next();for(;!0!==i.done;)await i.value(n),i=t.next()}function eF(e,t){let n=t.cache;return I(n.value)?n.value.then(n=>eV(e,t,n)):eV(e,t,n.value)}function eV(e,t,n){let i;return void 0!==t.onDeactivation&&(i=(0,t.onDeactivation)(n)),void 0===i?eT(e,t.serviceIdentifier,n):i.then(()=>eT(e,t.serviceIdentifier,n))}function eK(e,t){if(void 0===t)return;let n=function(e){let t=[];for(let n of e)void 0!==n.scope&&n.scope===B.Singleton&&n.cache.isRight&&t.push(n);return t}(t),i=[];for(let t of n){let n=function(e,t){let n=function(e,t){if(t.type===x.Instance){let n=e.getClassMetadata(t.implementationType),i=t.cache.value;return I(i)?i.then(e=>eD(n,e)):eD(n,i)}}(e,t);return void 0===n?eF(e,t):n.then(()=>eF(e,t))}(e,t);void 0!==n&&i.push(n)}return i.length>0?Promise.all(i).then(()=>{}):void 0}function eU(e,t){let n=e.getBindings(t);return eK(e,n)}let eq=Symbol.for("@inversifyjs/plugin/isPlugin"),ez="@inversifyjs/container/bindingId";class eG{#e;#n;constructor(e){this.#e=function(){let e=_(Object,ez)??0;return e===Number.MAX_SAFE_INTEGER?C(Object,ez,Number.MIN_SAFE_INTEGER):R(Object,ez,()=>e,e=>e+1),e}(),this.#n=e}get id(){return this.#e}load(e){return this.#n(e)}}let eH=Symbol.for("@inversifyjs/container/bindingIdentifier");function eW(e){return"object"==typeof e&&null!==e&&!0===e[eH]}class eL{static always=e=>!0}function eQ(e){return{[eH]:!0,id:e.id}}function eX(e){return t=>{for(let n=t.getAncestor();void 0!==n;n=n.getAncestor())if(e(n))return!0;return!1}}function eY(e){return t=>t.name===e}function eJ(e){return t=>t.serviceIdentifier===e}function eZ(e,t){return n=>n.tags.has(e)&&n.tags.get(e)===t}function e0(e){return void 0===e.name&&0===e.tags.size}function e1(e){let t=eX(e);return e=>!t(e)}function e2(e){return t=>{let n=t.getAncestor();return void 0===n||!e(n)}}function e6(e){return t=>{let n=t.getAncestor();return void 0!==n&&e(n)}}class e3{#i;constructor(e){this.#i=e}getIdentifier(){return eQ(this.#i)}inRequestScope(){return this.#i.scope=B.Request,new e9(this.#i)}inSingletonScope(){return this.#i.scope=B.Singleton,new e9(this.#i)}inTransientScope(){return this.#i.scope=B.Transient,new e9(this.#i)}}class e4{#t;#o;#s;#a;constructor(e,t,n,i){this.#t=e,this.#o=t,this.#s=n,this.#a=i}to(e){let t=G(e),n={cache:{isRight:!1,value:void 0},id:k(),implementationType:e,isSatisfiedBy:eL.always,moduleId:this.#o,onActivation:void 0,onDeactivation:void 0,scope:t.scope??this.#s,serviceIdentifier:this.#a,type:x.Instance};return this.#t(n),new e7(n)}toSelf(){if("function"!=typeof this.#a)throw Error('"toSelf" function can only be applied when a newable function is used as service identifier');return this.to(this.#a)}toConstantValue(e){let t={cache:{isRight:!1,value:void 0},id:k(),isSatisfiedBy:eL.always,moduleId:this.#o,onActivation:void 0,onDeactivation:void 0,scope:B.Singleton,serviceIdentifier:this.#a,type:x.ConstantValue,value:e};return this.#t(t),new e9(t)}toDynamicValue(e){let t={cache:{isRight:!1,value:void 0},id:k(),isSatisfiedBy:eL.always,moduleId:this.#o,onActivation:void 0,onDeactivation:void 0,scope:this.#s,serviceIdentifier:this.#a,type:x.DynamicValue,value:e};return this.#t(t),new e7(t)}toResolvedValue(e,t){let n={cache:{isRight:!1,value:void 0},factory:e,id:k(),isSatisfiedBy:eL.always,metadata:this.#r(t),moduleId:this.#o,onActivation:void 0,onDeactivation:void 0,scope:this.#s,serviceIdentifier:this.#a,type:x.ResolvedValue};return this.#t(n),new e7(n)}toFactory(e){let t={cache:{isRight:!1,value:void 0},factory:e,id:k(),isSatisfiedBy:eL.always,moduleId:this.#o,onActivation:void 0,onDeactivation:void 0,scope:B.Singleton,serviceIdentifier:this.#a,type:x.Factory};return this.#t(t),new e9(t)}toProvider(e){let t={cache:{isRight:!1,value:void 0},id:k(),isSatisfiedBy:eL.always,moduleId:this.#o,onActivation:void 0,onDeactivation:void 0,provider:e,scope:B.Singleton,serviceIdentifier:this.#a,type:x.Provider};return this.#t(t),new e9(t)}toService(e){let t={id:k(),isSatisfiedBy:eL.always,moduleId:this.#o,serviceIdentifier:this.#a,targetServiceIdentifier:e,type:x.ServiceRedirection};this.#t(t)}#r(e){return{arguments:(e??[]).map(e=>"object"!=typeof e||j.is(e)?{kind:d.singleInjection,name:void 0,optional:!1,tags:new Map,value:e}:{kind:!0===e.isMultiple?d.multipleInjection:d.singleInjection,name:e.name,optional:e.optional??!1,tags:new Map((e.tags??[]).map(e=>[e.key,e.value])),value:e.serviceIdentifier})}}}class e5{#i;constructor(e){this.#i=e}getIdentifier(){return eQ(this.#i)}onActivation(e){return this.#i.onActivation=e,new e8(this.#i)}onDeactivation(e){return this.#i.onDeactivation=e,new e8(this.#i)}}class e8{#i;constructor(e){this.#i=e}getIdentifier(){return eQ(this.#i)}when(e){return this.#i.isSatisfiedBy=e,new e5(this.#i)}whenAnyAncestor(e){return this.when(eX(e))}whenAnyAncestorIs(e){return this.when(eX(eJ(e)))}whenAnyAncestorNamed(e){return this.when(eX(eY(e)))}whenAnyAncestorTagged(e,t){return this.when(eX(eZ(e,t)))}whenDefault(){return this.when(e0)}whenNamed(e){return this.when(eY(e))}whenNoParent(e){return this.when(e2(e))}whenNoParentIs(e){return this.when(e2(eJ(e)))}whenNoParentNamed(e){return this.when(e2(eY(e)))}whenNoParentTagged(e,t){return this.when(e2(eZ(e,t)))}whenParent(e){return this.when(e6(e))}whenParentIs(e){return this.when(e6(eJ(e)))}whenParentNamed(e){return this.when(e6(eY(e)))}whenParentTagged(e,t){return this.when(e6(eZ(e,t)))}whenTagged(e,t){return this.when(eZ(e,t))}whenNoAncestor(e){return this.when(e1(e))}whenNoAncestorIs(e){return this.when(e1(eJ(e)))}whenNoAncestorNamed(e){return this.when(e1(eY(e)))}whenNoAncestorTagged(e,t){return this.when(e1(eZ(e,t)))}}class e9 extends e8{#c;constructor(e){super(e),this.#c=new e5(e)}onActivation(e){return this.#c.onActivation(e)}onDeactivation(e){return this.#c.onDeactivation(e)}}class e7 extends e9{#d;constructor(e){super(e),this.#d=new e3(e)}inRequestScope(){return this.#d.inRequestScope()}inSingletonScope(){return this.#d.inSingletonScope()}inTransientScope(){return this.#d.inTransientScope()}}let te=Symbol.for("@inversifyjs/container/InversifyContainerError");class tt extends Error{[te];kind;constructor(e,t,n){super(t,n),this[te]=!0,this.kind=e}static is(e){return"object"==typeof e&&null!==e&&!0===e[te]}static isErrorOfKind(e,t){return tt.is(e)&&e.kind===t}}!function(e){e[e.invalidOperation=0]="invalidOperation"}(h||(h={}));class tn{#l;#s;#u;constructor(e,t,n){this.#l=e,this.#s=t,this.#u=n}bind(e){return new e4(e=>{this.#p(e)},void 0,this.#s,e)}isBound(e,t){let n=this.#u.bindingService.get(e);return this.#y(e,n,t)}isCurrentBound(e,t){let n=this.#u.bindingService.getNonParentBindings(e);return this.#y(e,n,t)}async rebind(e){return await this.unbind(e),this.bind(e)}rebindSync(e){return this.unbindSync(e),this.bind(e)}async unbind(e){await this.#v(e)}async unbindAll(){let e=[...this.#u.bindingService.getNonParentBoundServices()];for(let t of(await Promise.all(e.map(async e=>eU(this.#l,e))),e))this.#u.activationService.removeAllByServiceId(t),this.#u.bindingService.removeAllByServiceId(t),this.#u.deactivationService.removeAllByServiceId(t);this.#u.planResultCacheService.clearCache()}unbindSync(e){void 0!==this.#v(e)&&this.#f(e)}#p(e){this.#u.bindingService.set(e),this.#u.planResultCacheService.clearCache()}#f(e){let t;if(eW(e)){let n=this.#u.bindingService.getById(e.id),i=function(e){if(void 0===e)return;let t=e.next();return!0!==t.done?t.value:void 0}(n?.[Symbol.iterator]())?.serviceIdentifier;t=void 0===i?"Unexpected asynchronous deactivation when unbinding binding identifier. Consider using Container.unbind() instead.":`Unexpected asynchronous deactivation when unbinding "${A(i)}" binding. Consider using Container.unbind() instead.`}else t=`Unexpected asynchronous deactivation when unbinding "${A(e)}" service. Consider using Container.unbind() instead.`;throw new tt(h.invalidOperation,t)}#v(e){return eW(e)?this.#I(e):this.#h(e)}#I(e){let t=this.#u.bindingService.getById(e.id),n=eK(this.#l,t);if(void 0!==n)return n.then(()=>{this.#A(e)});this.#A(e)}#A(e){this.#u.bindingService.removeById(e.id),this.#u.planResultCacheService.clearCache()}#h(e){let t=eU(this.#l,e);if(void 0!==t)return t.then(()=>{this.#w(e)});this.#w(e)}#w(e){this.#u.activationService.removeAllByServiceId(e),this.#u.bindingService.removeAllByServiceId(e),this.#u.deactivationService.removeAllByServiceId(e),this.#u.planResultCacheService.clearCache()}#y(e,t,n){if(void 0===t)return!1;let i={getAncestor:()=>{},name:n?.name,serviceIdentifier:e,tags:new Map};for(let e of(void 0!==n?.tag&&i.tags.set(n.tag.key,n.tag.value),t))if(e.isSatisfiedBy(i))return!0;return!1}}class ti{#m;#l;#s;#u;constructor(e,t,n,i){this.#m=e,this.#l=t,this.#s=n,this.#u=i}async load(...e){await Promise.all(this.#n(...e))}loadSync(...e){for(let t of this.#n(...e))if(void 0!==t)throw new tt(h.invalidOperation,"Unexpected asynchronous module load. Consider using Container.load() instead.")}async unload(...e){await Promise.all(this.#j(...e)),this.#S(e)}unloadSync(...e){for(let t of this.#j(...e))if(void 0!==t)throw new tt(h.invalidOperation,"Unexpected asynchronous module unload. Consider using Container.unload() instead.");this.#S(e)}#g(e){return{bind:t=>new e4(e=>{this.#p(e)},e,this.#s,t),isBound:this.#m.isBound.bind(this.#m),onActivation:(t,n)=>{this.#u.activationService.add(n,{moduleId:e,serviceId:t})},onDeactivation:(t,n)=>{this.#u.deactivationService.add(n,{moduleId:e,serviceId:t})},rebind:this.#m.rebind.bind(this.#m),rebindSync:this.#m.rebindSync.bind(this.#m),unbind:this.#m.unbind.bind(this.#m),unbindSync:this.#m.unbindSync.bind(this.#m)}}#S(e){for(let t of e)this.#u.activationService.removeAllByModuleId(t.id),this.#u.bindingService.removeAllByModuleId(t.id),this.#u.deactivationService.removeAllByModuleId(t.id);this.#u.planResultCacheService.clearCache()}#n(...e){return e.map(e=>e.load(this.#g(e.id)))}#p(e){this.#u.bindingService.set(e),this.#u.planResultCacheService.clearCache()}#j(...e){return e.map(e=>(function(e,t){let n=e.getBindingsFromModule(t);return eK(e,n)})(this.#l,e.id))}}class tr{#b;#C;#P;#u;constructor(e,t,n){this.#u=t,this.#P=n,this.#b=this.#R(e),this.#C=this.#O()}register(e,t){let n=new t(e,this.#C);if(!0!==n[eq])throw new tt(h.invalidOperation,"Invalid plugin. The plugin must extend the Plugin class");n.load(this.#b)}#R(e){return{define:(t,n)=>{if(Object.prototype.hasOwnProperty.call(e,t))throw new tt(h.invalidOperation,`Container already has a method named "${String(t)}"`);e[t]=n},onPlan:this.#P.onPlan.bind(this.#P)}}#O(){let e=this.#u;return{get activationService(){return e.activationService},get bindingService(){return e.bindingService},get deactivationService(){return e.deactivationService},get planResultCacheService(){return e.planResultCacheService}}}}class to{activationService;bindingService;deactivationService;planResultCacheService;#B;constructor(e,t,n,i){this.activationService=e,this.bindingService=t,this.deactivationService=n,this.planResultCacheService=i,this.#B=[]}reset(e,t,n){for(let i of(this.activationService=e,this.bindingService=t,this.deactivationService=n,this.planResultCacheService.clearCache(),this.#B))i()}onReset(e){this.#B.push(e)}}class ts{#$;#s;#E;#D;#T;#N;#u;#M;constructor(e,t,n){this.#u=e,this.#T=this.#x(),this.#$=t,this.#s=n,this.#E=e=>this.#u.activationService.get(e),this.#D=this.#u.bindingService.get.bind(this.#u.bindingService),this.#N=[],this.#M=this.#p.bind(this),this.#u.onReset(()=>{this.#_()})}get(e,t){let n=this.#F(!1,e,t),i=this.#V(n);if(I(i))throw new tt(h.invalidOperation,`Unexpected asynchronous service when resolving service "${A(e)}"`);return i}getAll(e,t){let n=this.#F(!0,e,t),i=this.#V(n);if(I(i))throw new tt(h.invalidOperation,`Unexpected asynchronous service when resolving service "${A(e)}"`);return i}async getAllAsync(e,t){let n=this.#F(!0,e,t);return this.#V(n)}async getAsync(e,t){let n=this.#F(!1,e,t);return this.#V(n)}onPlan(e){this.#N.push(e)}#_(){this.#D=this.#u.bindingService.get.bind(this.#u.bindingService),this.#M=this.#p.bind(this),this.#T=this.#x()}#K(e,t,n){return{isMultiple:e,name:n?.name,optional:n?.optional,serviceIdentifier:t,tag:n?.tag}}#U(e,t,n){let i={autobindOptions:n?.autobind??this.#$?{scope:this.#s}:void 0,getBindings:this.#D,getClassMetadata:G,rootConstraints:{isMultiple:t,serviceIdentifier:e},servicesBranch:[],setBinding:this.#M};return this.#k(i,n),i}#F(e,t,n){let i=this.#K(e,t,n),r=this.#u.planResultCacheService.get(i);if(void 0!==r)return r;let o=function(e){try{let t=new Map;void 0!==e.rootConstraints.tag&&t.set(e.rootConstraints.tag.key,e.rootConstraints.tag.value);let n=new ei({elem:{name:e.rootConstraints.name,serviceIdentifier:e.rootConstraints.serviceIdentifier,tags:t},previous:void 0}),i=new en(n.last),r=er(e,i),o=[],s={bindings:o,parent:void 0,serviceIdentifier:e.rootConstraints.serviceIdentifier};if(o.push(...eh(e,n,r,s)),!e.rootConstraints.isMultiple){ed(s,e.rootConstraints.isOptional??!1,i);let[t]=o;s.bindings=t}return{tree:{root:s}}}catch(t){if(t instanceof Error&&(t instanceof RangeError&&/stack space|call stack|too much recursion/i.test(t.message)||"InternalError"===t.name&&/too much recursion/.test(t.message))){let n=function(e){let t=[...e];return 0===t.length?"(No dependency trace)":t.map(A).join(" -> ")}(function(e){let t=new Set;for(let n of e.servicesBranch){if(t.has(n))return[...t,n];t.add(n)}return[...t]}(e));throw new z(s.planning,`Circular dependency found: ${n}`,{cause:t})}throw t}}(this.#U(t,e,n));for(let e of(this.#u.planResultCacheService.set(i,o),this.#N))e(i,o);return o}#x(){return{get:this.get.bind(this),getAll:this.getAll.bind(this),getAllAsync:this.getAllAsync.bind(this),getAsync:this.getAsync.bind(this)}}#V(e){var t;return eE(t={context:this.#T,getActivations:this.#E,planResult:e,requestScopeCache:new Map},t.planResult.tree.root)}#k(e,t){void 0!==t&&(void 0!==t.name&&(e.rootConstraints.name=t.name),!0===t.optional&&(e.rootConstraints.isOptional=!0),void 0!==t.tag&&(e.rootConstraints.tag={key:t.tag.key,value:t.tag.value}))}#p(e){this.#u.bindingService.set(e),this.#u.planResultCacheService.clearCache()}}class ta{#u;#q;constructor(e){this.#u=e,this.#q=[]}restore(){let e=this.#q.pop();if(void 0===e)throw new tt(h.invalidOperation,"No snapshot available to restore");this.#u.reset(e.activationService,e.bindingService,e.deactivationService)}snapshot(){this.#q.push({activationService:this.#u.activationService.clone(),bindingService:this.#u.bindingService.clone(),deactivationService:this.#u.deactivationService.clone()})}}let tc=B.Transient;class tu{#m;#z;#G;#u;#P;#H;constructor(e){var t;this.#u=this.#W(e);let n=e?.autobind??!1,i=e?.defaultScope??tc,r={getBindings:(t=this.#u).bindingService.get.bind(t.bindingService),getBindingsFromModule:t.bindingService.getByModuleId.bind(t.bindingService),getClassMetadata:G,getDeactivations:t.deactivationService.get.bind(t.deactivationService)};this.#m=new tn(r,i,this.#u),this.#z=new ti(this.#m,r,i,this.#u),this.#P=new ts(this.#u,n,i),this.#G=new tr(this,this.#u,this.#P),this.#H=new ta(this.#u)}bind(e){return this.#m.bind(e)}get(e,t){return this.#P.get(e,t)}getAll(e,t){return this.#P.getAll(e,t)}async getAllAsync(e,t){return this.#P.getAllAsync(e,t)}async getAsync(e,t){return this.#P.getAsync(e,t)}isBound(e,t){return this.#m.isBound(e,t)}isCurrentBound(e,t){return this.#m.isCurrentBound(e,t)}async load(...e){return this.#z.load(...e)}loadSync(...e){this.#z.loadSync(...e)}onActivation(e,t){this.#u.activationService.add(t,{serviceId:e})}onDeactivation(e,t){this.#u.deactivationService.add(t,{serviceId:e})}register(e){this.#G.register(this,e)}restore(){this.#H.restore()}async rebind(e){return this.#m.rebind(e)}rebindSync(e){return this.#m.rebindSync(e)}snapshot(){this.#H.snapshot()}async unbind(e){await this.#m.unbind(e)}async unbindAll(){return this.#m.unbindAll()}unbindSync(e){this.#m.unbindSync(e)}async unload(...e){return this.#z.unload(...e)}unloadSync(...e){this.#z.unloadSync(...e)}#W(e){if(void 0===e?.parent)return new to(E.build(void 0),N.build(void 0),F.build(void 0),new ep);let t=new ep;return e.parent.#u.planResultCacheService.subscribe(t),new to(E.build(e.parent.#u.activationService),N.build(e.parent.#u.bindingService),F.build(e.parent.#u.deactivationService),t)}}}}]);